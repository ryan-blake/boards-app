<% if ( current_user && current_user.provider != nil ) && (@board.shipping != true || false ) %>
<%= form_for(@board, remote: true)  do |f| %>
  <% if @board.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(board.errors.count, "error") %> prohibited this board from being saved:</h2>
      <ul>
      <% @board.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<!--  -->
<div class="title center-text">
<%= f.label :title %>
  <td><%= f.text_field :title, class: 'btn-width form-control' %></td>
</div>

<div class="image-box center-text" id="">

  <btn class="center-text" style="position:absolute;left:calc(50% - 90px);">
  <input id="fileupload" type="file" name="files[]" multiple>
  <div id="progress">
      <div class="bar" style="width: 0%;"></div>
  </div>

<%= f.fields_for :images do |image_fields| %>
<div class="col-sm-1" style="position:absolute;top:75px;width:100%;">
  <%= image_fields.label :remove %>

  <%= image_fields.check_box :_destroy, class: 'form-control center-text' %>
  <br>
  <%= attachment_image_tag(image_fields.object, :file, :fill, 150, 150, format: "jpg") %>
</div>
<% end %>
</div>
<div class="dimensions" style="">
  <table class="" style="">
    <thead style="min-width:100%;">
      <th ><%= f.label :make %></th>
      <th ><%= f.label :category_id, "category" %> <br></th>
        <th class="col-sm-3"><%= f.label :zipcode %><br /></th>
    </thead>
    <tbody>
      <tbody>
        <td ><%= f.text_field :make, class: 'btn-width form-control' %></td>
        <td ><%= f.grouped_collection_select :category_id, Type.order(:name),:categories, :name, :id, :name, include_blank: true %></td>
        <td class="col-sm-3"><%= f.number_field :zipcode, class: 'form-control' %></td>
      <thead>
        <th class="col-sm-3"><%= f.label :width %> (inches)<br/></th>
        <th class="col-sm-3"><%= f.label :volume %><strong>: if applies </strong><br/></strong></th>
        <th ><%= f.label :length %><strong> / height of board (inches)</strong><br/></strong></th>
      </thead>
      <tbody>
        <td class="col-sm-3"><%= f.number_field :width, class: 'form-control' %></td>
        <td class="col-sm-3"><%= f.number_field :volume, class: 'form-control' %></td>
        <td ><%= f.number_field :length, class: 'form-control' %></td>

      </tbody>
      <th class="col-sm-3"><%= f.label :accessory %></th>
      <th class="col-sm-3"><%= f.label :used %></th>
      <thead>
      </thead>
      <tbody>
        <td class="col-sm-3"><%= f.check_box :footgear, class: 'form-control' %> <br /></td>
        <td class="col-sm-3"><%= f.check_box :used, class: 'form-control' %> <br /></td>

      </tbody>
    </table>
    </div>

    <%= f.label :description %>
    <%= f.text_area :description, class: 'form-control', style: 'min-height:80px;min-width:100%;'%>


<%= f.label :price %><br/>
<%= f.number_field :price, class: 'btn-width form-control' %>
<%= f.hidden_field :user_id, :value => current_user.id %>

<!--  -->


  <div style="margin-top:20px;" class="actions">

    <%= f.button "update", id: 'update-btn', class: "btn btn-success", data: { toggle: "modal", target: "#newodal"} %>

  </div>


<!-- section -->

  <% end %>
  <% end %>
  <script src="js/vendor/jquery.ui.widget.js"></script>
  <script src="js/jquery.iframe-transport.js"></script>
  <script src="js/jquery.fileupload.js"></script>
  <script>
  $(function () {
      $('#fileupload').fileupload({
          dataType: 'json',
          done: function (e, data) {
              $.each(data.result.files, function (index, file) {
                  $('<p/>').text(file.name).appendTo(document.body);
              });
          }
      });
  });

    $('#fileupload').fileupload({
        dataType: 'json',
        done: function (e, data) {
            alert('done');
        },
        add: function (e, data) {
            alert('Uploading...');
        }
    });

    $('#fileupload').fileupload({
    /* ... */
    progressall: function (e, data) {
        var progress = parseInt(data.loaded / data.total * 100, 10);
        $('#progress .bar').css(
            'width',
            progress + '%'
        );
    }
});
$(function () {
    $('#fileupload').fileupload({
        dataType: 'json',
        add: function (e, data) {
            data.context = $('<button/>').text('Upload')
                .appendTo(document.body)
                .click(function () {
                    data.context = $('<p/>').text('Uploading...').replaceAll($(this));
                    data.submit();
                });
        },
        done: function (e, data) {
            data.context.text('Upload finished.');
        }
    });
});
$(function () {
    $('#fileupload').fileupload({
        dataType: 'json',
        add: function (e, data) {
            data.context = $('<p/>').text('Uploading...').appendTo(document.body);
            data.submit();
        },
        done: function (e, data) {
            data.context.text('Upload finished.');
        }
    });
});
    </script>
    <style>
  .bar {
    height: 18px;
    background: green;
  }
</style>
